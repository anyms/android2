"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var a=function(t){return new i(t)},t="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global||this||{};t._;"undefined"==typeof exports||exports.nodeType?t._=a:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=a),exports._=a);var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function s(t,e){for(var n=0;n<t.length;n++)e.call(t[n],n)}function e(t,e,n){var i,r=2<arguments.length&&void 0!==n&&n,s=!1;return i=a.isString(t)?(s=!0,t.split("")):t,r?i.splice(i.length-e,e):i.splice(0,e),s?i.join(""):i}a.toObject=function(t){return JSON.parse(t)},a.toJson=function(t){return JSON.stringify(t)},a.toNum=a.toNumber=function(t){return Number(t)},a.toString=function(t){return a.isLoopable(t)?JSON.stringify(t):t.toString()},a.toArray=function(t){var e=[];return s(t,function(){e.push(this)}),e},a.isArray=function(t){return"HTMLCollection"===t.constructor.name||"NodeList"===t.constructor.name||Array.isArray(t)},a.isElement=function(e){try{return e instanceof HTMLElement}catch(t){return"object"===_typeof(e)&&1===e.nodeType&&"object"===_typeof(e.style)&&"object"===_typeof(e.ownerDocument)}},a.isString=function(t){return"string"==typeof t},a.isNumber=a.isNum=function(t){return"number"==typeof t},a.isEmpty=function(t){return 0===a.keys(t).length},a.isEqual=function(t,e){return JSON.stringify(t)==JSON.stringify(e)},a.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},a.isLoopable=a.isIterable=function(t){return!a.isEmpty(t)},a.isSame=function(t,e){return a.isElement(t)&&a.isElement(e)?t.isSameNode(e):t==e},a.escape=function(t){var e=t;return s(n,function(t){e=e.replace(new RegExp(t,"g"),this)}),e},a.unescape=function(t){var e=t;return s(n,function(t){e=e.replace(new RegExp(this,"g"),t)}),e},a.keys=function(t){return Object.keys(t)},a.values=function(t){for(var e=[],n=a.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e},a.isContains=function(t,e){var n=!1;return s(t,function(){if(a.isSame(this,e))return n=!0}),n},a.ready=function(t){window.addEventListener("DOMContentLoaded",t,!1)},a.random=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return a.isArray(t)?t[0+Math.floor(Math.random()*t.length)]:(null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1)))},a.range=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=[];if(a.isString(t)){t=t.charCodeAt(0),e=e.charCodeAt(0);for(var i=t;i<=e;i++)n.push(String.fromCharCode(i));return n}null==e&&(e=t,t=0);for(var r=t;r<=e;r++)n.push(r);return n},a.map=function(t,e,n){var i=Object.assign({},t),r=a.keys(t);if(null!==n||void 0!==n)for(var s=0;s<r.length;s++)i[r[s]]=e.call(n,r[s],t[r[s]],t);else for(var o=0;o<r.length;o++)i[r[o]]=e.call(t[r[o]],r[o],t);return i},a.reduce=a.foldl=function(t,e,n){for(var i=a.keys(t),r=t[i[0]],s=1;s<i.length;s++)r=e(r,t[i[s]],t);return r},a.reduceRight=a.foldr=function(t,e,n){for(var i=a.keys(t),r=t[i[i.length-1]],s=i.length-2;0<=s;s--)r=e(r,t[i[s]],t);return r},a.find=function(e,n){var i=null;return a.each(e,function(t){if(n(t,this,e))return i=this,!0}),i},a.filter=function(e,n){var i=[];return a.each(e,function(t){n(t,this,e)&&i.push(this)}),i},a.where=function(t,i){var r=[],s=a.keys(i);return a.each(t,function(t){for(var e=!0,n=0;n<s.length;n++)if(this[s[n]]!==i[s[n]]){e=!1;break}e&&r.push(this)}),r},a.reject=function(e,n){var i=[];return a.each(e,function(t){n(t,this,e)||i.push(this)}),i},a.all=a.every=function(e,n){var i=!0;return s(e,function(t){if(!n(t,this,e))return!(i=!1)}),i},a.any=a.some=function(e,n){var i=!1;return s(e,function(t){if(n(t,this,e))return i=!0}),i},a.invoke=function(){var n=arguments,i=n[0];return a.each(i,function(t){for(var e=1;e<n.length;e++)i[t]=this[n[e]]()}),i},a.extend=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(arguments[e]);return t},a.clone=function(t){return a.isArray(t)?[].concat(t):Object.assign({},t)},a.has=function(t,e){return a.isContains(a.keys(t),e)},a.each=a.forEach=function(t,e,n){if(a.isArray(t))for(var i=0;i<t.length;i++){if(!0===(null==n?e.call(t[i],i,t):e.call(n,t[i],i,t)))break}else if(a.isIterable(t))for(var r=a.keys(t),s=0;s<r.length;s++){if(!0===(null==n?e.call(t[r[s]],r[s],t):e.call(n,r[s],t[r[s]],t)))break}},a.dropLast=function(t){return e(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,!0)},a.dropFirst=function(t){return e(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,!1)},a.fetch=function(r){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,e){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&("OK"==this.statusText?t:e)(this)};var i="";a.has(s,"params")&&(i+="?",a.each(s.params,function(t){i+=t+"="+this+"&"}),i=a.dropLast(i,1)),n.open("GET",r+i,!0),a.has(s,"headers")&&a.each(s.headers,function(t){n.setRequestHeader(t,this)}),n.send()})},a.post=function(s){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,e){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&("OK"==this.statusText?t:e)(this)};var i="";a.has(o,"params")&&(i+="?",a.each(o.params,function(t){i+=t+"="+this+"&"}),i=a.dropLast(i,1));var r="";a.has(o,"form")&&(r+="?",a.each(o.form,function(t){r+=t+"="+this+"&"}),r=a.dropLast(r,1)),n.open("POST",s+i,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.has(o,"headers")&&a.each(o.headers,function(t){n.setRequestHeader(t,this)}),r=a.dropFirst(r,1),n.send(r)})},a.upload=function(){console.warn("_.upload() not implemented yet!")},a.eventStack=[],a.doms=[],a.extension=function(t,e){if(a.has(a,t))throw"The extension name '"+t+"' already exist.";a[t]=e},a.attrs=function(t){return Array.from(t.attributes)};var i=function(){function i(t){_classCallCheck(this,i);var e=this;if(null!=t)if(a.isString(t))if(/<[a-z][\s\S]*>/i.test(t)){var n=document.createElement("div");n.innerHTML=t,s(n.children,function(){e.push(this)})}else s(document.querySelectorAll(t),function(){a.isContains(e,this)||e.push(this)});else a.isElement(t)?a.isContains(e,t)||e.push(t):a.isIterable(t)&&s(t,function(){a.isElement(this)&&!a.isContains(e,this)&&e.push(this)})}return _createClass(i,[{key:"extend",value:function(){for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];a.isElement(n)?a.isContains(this,n)||this.push(n):s("string"==typeof n?document.querySelectorAll(n):n,function(){a.isContains(t,this)||t.push(this)})}return this}},{key:"addClass",value:function(t){var e=t.split(" ");return s(this,function(){for(var t=0;t<e.length;t++)this.classList.add(e[t].trim())}),this}},{key:"removeClass",value:function(t){var e=t.split(" ");return s(this,function(){for(var t=0;t<e.length;t++)this.classList.remove(e[t].trim())}),this}},{key:"also",value:function(t){t.call(a(this[0]))}},{key:"each",value:function(t,e){if(null==e)for(var n=0;n<this.length;n++)t.call(a(this[n]),n,this);else for(var i=0;i<this.length;i++)t.call(e,i,a(this[i]),this);return this}},{key:"toggleClass",value:function(t){var n=t.split(" ");return s(this,function(){for(var t=0;t<n.length;t++){var e=n[t].trim();this.classList.contains(e)?this.classList.remove(e):this.classList.add(e)}}),this}},{key:"append",value:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(a.isString(e))for(var n=a(e),i=0;i<n.length;i++)for(var r=0;r<this.length;r++)this[r].appendChild(n[i]);else if(a.isElement(e))for(var s=0;s<this.length;s++)this[s].appendChild(e);else if(a.isIterable(e)||a.isArray(e))for(var o=0;o<e.length;o++)if(a.isElement(e[o]))for(var u=0;u<this.length;u++)this[u].appendChild(e[o])}return this}},{key:"prepend",value:function(){for(var n=arguments,i=this,r=this,t=function(t){var e=n[t];a.isString(e)?s(a(e),function(){var t=this;s(r,function(){this.insertBefore(t,this.childNodes[0])})}):a.isElement(e)?s(i,function(){this.insertBefore(e,this.childNodes[0])}):a.isIterable(e)&&s(e,function(){var t=this;a.isElement(t)&&s(r,function(){this.insertBefore(t,this.childNodes[0])})})},e=0;e<arguments.length;e++)t(e);return this}},{key:"render",value:function(t){return s(this,function(){a.render(this,t)}),this}},{key:"html",value:function(t){if(null==t)return this[0].innerHTML;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this}},{key:"text",value:function(t){if(null==t)return this[0].textContent;for(var e=0;e<this.length;e++)this[e].innerHTML=a.escape(t);return this}},{key:"attr",value:function(t,e){return null==e?this[0].getAttribute(t):(s(this,function(){this.setAttribute(t,e)}),this)}},{key:"prop",value:function(t,e){return this.attr(t,e)}},{key:"on",value:function(t,e){return this.bind(t,e)}},{key:"bind",value:function(e,n){var i=e.split(" ");return s(this,function(){a.eventStack.push({element:this,callback:n,event:e});for(var t=0;t<i.length;t++)this.addEventListener(i[t].trim(),function(){n.call(a(this))},!1)}),this}},{key:"unbind",value:function(t){var i=t.split(" "),r=[];return s(this,function(){for(var n=this,t=function(e){s(a.eventStack,function(t){a.isSame(n,this.element)&&i[e]===this.event&&(n.removeEventListener(i[e],this.callback),r.push(t))})},e=0;e<i.length;e++)t(e)}),s(r,function(){a.eventStack.splice(this,1)}),this}},{key:"select",value:function(t){var e=new i;return s(this[0].querySelectorAll(t),function(){e.push(this)}),e}},{key:"clear",value:function(){var n=[];return s(this,function(){var e=this;s(a.eventStack,function(t){a.isSame(e,this.element)&&(e.removeEventListener(event,this.callback),n.push(t))})}),s(n,function(){a.eventStack.splice(this,1)}),this}},{key:"disable",value:function(){return s(this,function(){this.disabled=!0}),this}},{key:"enable",value:function(){return s(this,function(){this.disabled=!1}),this}},{key:"isDisabled",value:function(){return this[0].disabled}},{key:"children",value:function(t){return 0<arguments.length&&void 0!==t&&t?this[0].childNodes:this[0].children}},{key:"click",value:function(t){return this.bind("click",t)}},{key:"css",value:function(n,t){var i=this;return null==t?s(a.keys(n),function(){var t=this,e=n[t];s(i,function(){this.style[t]=e})}):s(this,function(){this.style[n]=t}),this}},{key:"siblings",value:function(){var t=[],e=this[0];return s(e.parentNode.children,function(){a.isSame(this,e)||t.push(this)}),a(t)}},{key:"first",value:function(){return a(this[0])}},{key:"last",value:function(){return a(this[this.length-1])}},{key:"filter",value:function(t){var e=document.createElement("div"),n=[];return s(this,function(){e.innerHTML="",e.appendChild(this.cloneNode()),null===e.querySelector(t)&&n.push(this)}),a(n)}},{key:"height",value:function(t){return null!=t&&a.isNumber(t)?(this.css("height",t+"px"),this):this[0].offsetHeight}},{key:"width",value:function(t){return null!=t&&a.isNumber(t)?(this.css("width",t+"px"),this):this[0].offsetWidth}},{key:"innerHeight",value:function(){return this[0].clientHeight}},{key:"innerWidth",value:function(){return this[0].clientWidth}},{key:"hide",value:function(){return s(this,function(){this.style.visibility="hidden"}),this}},{key:"show",value:function(){return s(this,function(){this.style.visibility="visible"}),this}},{key:"offset",value:function(){for(var t=this[0],e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:n,left:e,x:e,y:n}}},{key:"parent",value:function(){return this[0].parentNode}},{key:"parents",value:function(){var t=[];return s(this,function(){a.isContains(t,this.parentNode)||t.push(this.parentNode)}),a(t)}},{key:"removeAttr",value:function(t){return s(this,function(){this.removeAttribute(t)}),this}},{key:"remove",value:function(){return s(this,function(){this.remove()}),this}},{key:"val",value:function(){return this[0].value}}]),i}();i.prototype.push=Array.prototype.push,i.prototype.pop=Array.prototype.pop,i.prototype.splice=Array.prototype.splice,i.prototype.get=function(t){return a(this[t])},a.plugin=function(t,e){i.prototype[t]=e}}();